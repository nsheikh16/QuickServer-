{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\rossh\\\\Desktop\\\\Phase_03\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\rossh\\\\Desktop\\\\Phase_03\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\rossh\\\\Desktop\\\\Phase_03\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\rossh\\\\Desktop\\\\Phase_03\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\rossh\\\\Desktop\\\\Phase_03\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\rossh\\\\Desktop\\\\Phase_03\\\\frontend\\\\src\\\\login\\\\Login.js\";\nimport React, { Component } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Icon from '@material-ui/core/Icon';\nimport { Route, Link, Redirect, BrowserRouter as Router } from 'react-router-dom';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.state = {\n      username: \"\",\n      password: \"\",\n      open: false,\n      redirectToReferrer: false,\n      response: false\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(\"login mounted\");\n    }\n  }, {\n    key: \"submit\",\n    value: function submit() {\n      var _this2 = this;\n\n      if (this.state.username === \"\" || this.state.password === \"\") {\n        this.setState({\n          open: true\n        });\n      } else {\n        // console.log(this.state);\n        var data = {\n          username: this.state.username,\n          password: this.state.password\n        };\n        var okay = false;\n        var that = this;\n        fetch('http://localhost:8081/login', {\n          method: \"POST\",\n          mode: \"cors\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(data)\n        }).then(function (response) {\n          console.log(response);\n\n          if (response.ok) {\n            return response.json();\n          }\n        }).then(function (jsonData) {\n          return JSON.stringify(jsonData);\n        }).then(function (jsonStr) {\n          console.log(jsonStr);\n\n          _this2.setState(function () {\n            return {\n              redirectToReferrer: true\n            };\n          });\n\n          _this2.props.login();\n        }).catch(function (error) {\n          console.log(error);\n        });\n        console.log(this.state);\n        this.setState(function () {\n          return {\n            redirectToReferrer: true\n          };\n        });\n        this.props.login();\n      }\n    }\n  }, {\n    key: \"changeState\",\n    value: function changeState(e) {\n      switch (e.target.id) {\n        case \"username\":\n          this.setState({\n            username: e.target.value\n          });\n          break;\n\n        case \"password\":\n          this.setState({\n            password: e.target.value\n          });\n          break;\n\n        default:\n          break;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref = this.props.location.state || {\n        from: {\n          pathname: '/'\n        }\n      },\n          from = _ref.from;\n\n      if (this.state.redirectToReferrer === true) {\n        return React.createElement(Redirect, {\n          to: from,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(Paper, {\n        square: true,\n        style: {\n          paddingTop: \"5%\",\n          paddingLeft: \"10%\",\n          paddingRight: \"10%\",\n          paddingBottom: \"10%\",\n          backgroundColor: \"#dbdbdb\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          padding: \"15%\",\n          paddingRight: \"15%\",\n          paddingTop: \"10%\",\n          paddingBottom: \"10%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          paddingTop: \"2.5%\",\n          paddingLeft: \"2.5%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        component: \"h2\",\n        variant: \"display3\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Login:\")), React.createElement(\"div\", {\n        style: {\n          padding: \"2.5%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"username\",\n        label: \"Username:\",\n        value: this.state.username,\n        onChange: this.changeState.bind(this),\n        fullWidth: \"true\",\n        variant: \"outlined\",\n        placeholder: \"Place your user name here.\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          padding: \"2.5%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"password\",\n        label: \"Password:\",\n        value: this.state.password,\n        onChange: this.changeState.bind(this),\n        fullWidth: \"true\",\n        variant: \"outlined\",\n        placeholder: \"Place you pass word here.\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }))), React.createElement(CardActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          paddingLeft: \"3.5%\",\n          paddingBottom: \"5.5%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.submit.bind(this),\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"how_to_reg\"), \"Sign In\"), React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        style: {\n          textDecoration: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"person_add\"), \"Sign Up\"))))), React.createElement(Snackbar, {\n        anchorOrigin: {\n          vertical: 'bottom',\n          horizontal: 'left'\n        },\n        open: this.state.open,\n        autoHideDuration: 6000,\n        onClose: this.handleClose,\n        ContentProps: {\n          'aria-describedby': 'message-id'\n        },\n        message: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          id: \"message-id\",\n          style: {\n            color: \"red\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, \"Invalid username or password, please try again\")),\n        action: [React.createElement(IconButton, {\n          key: \"close\",\n          \"aria-label\": \"Close\",\n          color: \"inherit\",\n          className: \"no inputs\",\n          onClick: this.handleClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(CloseIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }))],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["C:\\Users\\rossh\\Desktop\\Phase_03\\frontend\\src\\login\\Login.js"],"names":["React","Component","TextField","Paper","IconButton","Button","Card","CardActions","CardContent","Typography","Snackbar","CloseIcon","Icon","Route","Link","Redirect","BrowserRouter","Router","Login","props","handleClose","setState","open","state","username","password","redirectToReferrer","response","console","log","data","okay","that","fetch","method","mode","headers","body","JSON","stringify","then","ok","json","jsonData","jsonStr","login","catch","error","e","target","id","value","location","from","pathname","paddingTop","paddingLeft","paddingRight","paddingBottom","backgroundColor","padding","changeState","bind","submit","textDecoration","vertical","horizontal","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Icon from'@material-ui/core/Icon';\n\nimport { Route, Link,Redirect, BrowserRouter as Router } from 'react-router-dom'\n\nclass Login extends Component{\n\n    constructor(props){\n        super(props);\n        this.state={\n            username:\"\",\n            password:\"\",\n            open:false,\n            redirectToReferrer:false,\n            response:false\n        }\n    }\n\n\n    componentDidMount(){\n        console.log(\"login mounted\")\n    }\n\n    submit(){\n        if(this.state.username === \"\" || this.state.password === \"\"){\n            this.setState({open:true});\n        }\n        else{\n            // console.log(this.state);\n\n            var data={\n                username:this.state.username,\n                password:this.state.password,\n            }\n            var okay=false;\n\n            const that = this;\n\n            fetch('http://localhost:8081/login',{\n                method:\"POST\",\n                mode:\"cors\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n\n                },\n                body:JSON.stringify(data),\n            }).then(function(response){\n                console.log(response);\n                if(response.ok){\n                    return response.json();\n                }\n            })\n            .then(function(jsonData){\n                return JSON.stringify(jsonData);\n            })\n            .then(jsonStr=>{\n                console.log(jsonStr)\n                this.setState(()=>({\n                    redirectToReferrer:true\n                }));\n                this.props.login();\n            })\n            .catch(error=>{\n                console.log(error)\n            })\n\n            console.log(this.state)\n            \n            this.setState(() => ({\n                redirectToReferrer: true\n            }))\n            this.props.login();\n\n\n\n        }\n    }\n\n    changeState(e){\n        switch(e.target.id){\n            case \"username\":\n                this.setState({username:e.target.value});\n                break;\n            case \"password\":\n                this.setState({password:e.target.value});\n                break;\n            default:\n                break;\n        }\n    }\n    handleClose= () => {\n        this.setState({ open: false });\n    };\n    \n\n    render(){\n\n        const { from } = this.props.location.state || { from: { pathname: '/' }};\n        if (this.state.redirectToReferrer === true) {\n          return <Redirect to={from} />\n        }\n\n        return(\n        <Paper \n            square\n            style={{ paddingTop:\"5%\",paddingLeft:\"10%\",paddingRight:\"10%\",paddingBottom:\"10%\", backgroundColor:\"#dbdbdb\"}}\n        >\n            <div style={{padding:\"15%\",paddingRight:\"15%\",paddingTop:\"10%\",paddingBottom:\"10%\"}}>\n                <Card>\n                    <CardContent>\n                        <div style={{paddingTop:\"2.5%\",paddingLeft:\"2.5%\"}}>\n                            <Typography component=\"h2\" variant=\"display3\" gutterBottom>\n                                Login:\n                            </Typography>\n                        </div>\n                        <div style={{padding:\"2.5%\"}}>\n                            <TextField\n                                id=\"username\"\n                                label=\"Username:\"\n                                value={this.state.username}\n                                onChange={this.changeState.bind(this)}\n                                fullWidth=\"true\"\n                                variant=\"outlined\"\n                                placeholder=\"Place your user name here.\"\n                            ></TextField>\n                        </div>\n                        <div style={{padding:\"2.5%\"}}>\n                            <TextField\n                                id=\"password\"\n                                label=\"Password:\"\n                                value={this.state.password}\n                                onChange={this.changeState.bind(this)}\n                                fullWidth=\"true\"\n                                variant=\"outlined\"\n                                placeholder=\"Place you pass word here.\"\n                            ></TextField>\n                        </div>\n                    </CardContent>\n                    <CardActions >\n                        <div style={{paddingLeft:\"3.5%\",paddingBottom:\"5.5%\"}}>\n                            <Button \n                                onClick={this.submit.bind(this)}\n                                variant=\"contained\" color=\"primary\"\n                            ><Icon>\n                            how_to_reg\n                            </Icon>\n                                Sign In\n                            </Button>\n                            <Link to=\"/login\">\n                                <Button\n                                variant=\"contained\"\n                                style={{textDecoration:\"none\"}}\n                                >\n                                    <Icon>\n                                    person_add\n                                        </Icon>Sign Up</Button>\n                            </Link>\n                        </div>\n                    </CardActions>\n                </Card>\n                <Snackbar\n                    anchorOrigin={{\n                        vertical: 'bottom',\n                        horizontal: 'left',\n                    }}\n                    open={this.state.open}\n                    autoHideDuration={6000}\n                    onClose={this.handleClose}\n                    ContentProps={{\n                        'aria-describedby': 'message-id',\n                    }}\n                    message={<div><span id=\"message-id\" style={{color:\"red\"}}>Invalid username or password, please try again</span></div>}\n                    action={[\n                        <IconButton\n                            key=\"close\"\n                            aria-label=\"Close\"\n                            color=\"inherit\"\n                            className=\"no inputs\"\n                            onClick={this.handleClose}\n                        >\n                            <CloseIcon />\n                        </IconButton>,\n                    ]}\n                />\n            </div>\n        </Paper>\n        )\n    }\n    \n}\n\n\n\n\nexport default Login"]},"metadata":{},"sourceType":"module"}